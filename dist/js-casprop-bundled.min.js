!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.jsCasProp=e():t.jsCasProp=e()}(self,(()=>{return t={554:function(){!function(t){"use strict";var e=function(){this.cssImportStatements=[],this.cssKeyframeStatements=[],this.cssRegex=new RegExp("([\\s\\S]*?){([\\s\\S]*?)}","gi"),this.cssMediaQueryRegex="((@media [\\s\\S]*?){([\\s\\S]*?}\\s*?)})",this.cssKeyframeRegex="((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})",this.combinedCSSRegex="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",this.cssCommentsRegex="(\\/\\*[\\s\\S]*?\\*\\/)",this.cssImportStatementRegex=new RegExp("@import .*?;","gi")};e.prototype.stripComments=function(t){var e=new RegExp(this.cssCommentsRegex,"gi");return t.replace(e,"")},e.prototype.parseCSS=function(t){if(void 0===t)return[];for(var e=[];;){var r=this.cssImportStatementRegex.exec(t);if(null===r)break;this.cssImportStatements.push(r[0]),e.push({selector:"@imports",type:"imports",styles:r[0]})}t=t.replace(this.cssImportStatementRegex,"");for(var s,i=new RegExp(this.cssKeyframeRegex,"gi");null!==(s=i.exec(t));)e.push({selector:"@keyframes",type:"keyframes",styles:s[0]});t=t.replace(i,"");for(var n=new RegExp(this.combinedCSSRegex,"gi");null!==(s=n.exec(t));){var a="";a=void 0===s[2]?s[5].split("\r\n").join("\n").trim():s[2].split("\r\n").join("\n").trim();var h=new RegExp(this.cssCommentsRegex,"gi"),o=h.exec(a);if(null!==o&&(a=a.replace(h,"").trim()),-1!==(a=a.replace(/\n+/,"\n")).indexOf("@media")){var l={selector:a,type:"media",subStyles:this.parseCSS(s[3]+"\n}")};null!==o&&(l.comments=o[0]),e.push(l)}else{var u={selector:a,rules:this.parseRules(s[6])};"@font-face"===a&&(u.type="font-face"),null!==o&&(u.comments=o[0]),e.push(u)}}return e},e.prototype.parseRules=function(t){var e=[];t=(t=t.split("\r\n").join("\n")).split(";");for(var r=0;r<t.length;r++){var s=t[r];if(-1!==(s=s.trim()).indexOf(":")){var i=(s=s.split(":"))[0].trim(),n=s.slice(1).join(":").trim();if(i.length<1||n.length<1)continue;e.push({directive:i,value:n})}else"base64,"===s.trim().substr(0,7)?e[e.length-1].value+=s.trim():s.length>0&&e.push({directive:"",value:s,defective:!0})}return e},e.prototype.findCorrespondingRule=function(t,e,r){void 0===r&&(r=!1);for(var s=!1,i=0;i<t.length&&(t[i].directive!==e||(s=t[i],r!==t[i].value));i++);return s},e.prototype.findBySelector=function(t,e,r){void 0===r&&(r=!1);for(var s=[],i=0;i<t.length;i++)!1===r?t[i].selector===e&&s.push(t[i]):-1!==t[i].selector.indexOf(e)&&s.push(t[i]);if("@imports"===e||s.length<2)return s;var n=s[0];for(i=1;i<s.length;i++)this.intelligentCSSPush([n],s[i]);return[n]},e.prototype.deleteBySelector=function(t,e){for(var r=[],s=0;s<t.length;s++)t[s].selector!==e&&r.push(t[s]);return r},e.prototype.compressCSS=function(t){for(var e=[],r={},s=0;s<t.length;s++){var i=t[s];if(!0!==r[i.selector]){var n=this.findBySelector(t,i.selector);0!==n.length&&(e=e.concat(n),r[i.selector]=!0)}}return e},e.prototype.cssDiff=function(t,e){if(t.selector!==e.selector)return!1;if("media"===t.type||"media"===e.type)return!1;for(var r,s,i={selector:t.selector,rules:[]},n=0;n<t.rules.length;n++)r=t.rules[n],(!1===(s=this.findCorrespondingRule(e.rules,r.directive,r.value))||r.value!==s.value)&&i.rules.push(r);for(var a=0;a<e.rules.length;a++)s=e.rules[a],!1===(r=this.findCorrespondingRule(t.rules,s.directive))&&(s.type="DELETED",i.rules.push(s));return 0!==i.rules.length&&i},e.prototype.intelligentMerge=function(t,e,r){void 0===r&&(r=!1);for(var s=0;s<e.length;s++)this.intelligentCSSPush(t,e[s],r);for(s=0;s<t.length;s++){var i=t[s];"media"!==i.type&&"keyframes"!==i.type&&(i.rules=this.compactRules(i.rules))}},e.prototype.intelligentCSSPush=function(t,e,r){var s=e.selector,i=!1;if(void 0===r&&(r=!1),!1===r){for(var n=0;n<t.length;n++)if(t[n].selector===s){i=t[n];break}}else for(var a=t.length-1;a>-1;a--)if(t[a].selector===s){i=t[a];break}if(!1===i)t.push(e);else if("media"!==e.type)for(var h=0;h<e.rules.length;h++){var o=e.rules[h],l=this.findCorrespondingRule(i.rules,o.directive);!1===l?i.rules.push(o):"DELETED"===o.type?l.type="DELETED":l.value=o.value}else i.subStyles=i.subStyles.concat(e.subStyles)},e.prototype.compactRules=function(t){for(var e=[],r=0;r<t.length;r++)"DELETED"!==t[r].type&&e.push(t[r]);return e},e.prototype.getCSSForEditor=function(t,e){void 0===e&&(e=0);var r="";void 0===t&&(t=this.css);for(var s=0;s<t.length;s++)"imports"===t[s].type&&(r+=t[s].styles+"\n\n");for(s=0;s<t.length;s++){var i=t[s];if(void 0!==i.selector){var n="";void 0!==i.comments&&(n=i.comments+"\n"),"media"===i.type?(r+=n+i.selector+"{\n",r+=this.getCSSForEditor(i.subStyles,e+1),r+="}\n\n"):"keyframes"!==i.type&&"imports"!==i.type&&(r+=this.getSpaces(e)+n+i.selector+" {\n",r+=this.getCSSOfRules(i.rules,e+1),r+=this.getSpaces(e)+"}\n\n")}}for(s=0;s<t.length;s++)"keyframes"===t[s].type&&(r+=t[s].styles+"\n\n");return r},e.prototype.getImports=function(t){for(var e=[],r=0;r<t.length;r++)"imports"===t[r].type&&e.push(t[r].styles);return e},e.prototype.getCSSOfRules=function(t,e){for(var r="",s=0;s<t.length;s++)void 0!==t[s]&&(void 0===t[s].defective?r+=this.getSpaces(e)+t[s].directive+": "+t[s].value+";\n":r+=this.getSpaces(e)+t[s].value+";\n");return r||"\n"},e.prototype.getSpaces=function(t){for(var e="",r=0;r<4*t;r++)e+=" ";return e},e.prototype.applyNamespacing=function(t,e){var r=t,s="."+this.cssPreviewNamespace;void 0!==e&&(s=e),"string"==typeof t&&(r=this.parseCSS(t));for(var i=0;i<r.length;i++){var n=r[i];if(!(n.selector.indexOf("@font-face")>-1||n.selector.indexOf("keyframes")>-1||n.selector.indexOf("@import")>-1||n.selector.indexOf(".form-all")>-1||n.selector.indexOf("#stage")>-1))if("media"!==n.type){for(var a=n.selector.split(","),h=[],o=0;o<a.length;o++)-1===a[o].indexOf(".supernova")?h.push(s+" "+a[o]):h.push(a[o]);n.selector=h.join(",")}else n.subStyles=this.applyNamespacing(n.subStyles,e)}return r},e.prototype.clearNamespacing=function(t,e){void 0===e&&(e=!1);var r=t,s="."+this.cssPreviewNamespace;"string"==typeof t&&(r=this.parseCSS(t));for(var i=0;i<r.length;i++){var n=r[i];if("media"!==n.type){for(var a=n.selector.split(","),h=[],o=0;o<a.length;o++)h.push(a[o].split(s+" ").join(""));n.selector=h.join(",")}else n.subStyles=this.clearNamespacing(n.subStyles,!0)}return!1===e?this.getCSSForEditor(r):r},e.prototype.createStyleElement=function(t,e,r){if(void 0===r&&(r=!1),!1===this.testMode&&"nonamespace"!==r&&(e=this.applyNamespacing(e)),"string"!=typeof e&&(e=this.getCSSForEditor(e)),!0===r&&(e=this.getCSSForEditor(this.parseCSS(e))),!1!==this.testMode)return this.testMode("create style #"+t,e);var s=document.getElementById(t);s&&s.parentNode.removeChild(s);var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id=t,n.type="text/css",i.appendChild(n),n.styleSheet&&!n.sheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))},t.cssjs=e}(this)},478:t=>{const e=Object.freeze({onmouseover:1<<31,onclick:1<<30,onselect:1<<29,onfold:1<<28,onin:1<<27,onout:1<<26});t.exports={EventState:class{constructor(){this.state=0}set(t){this.state|=t}remove(t){this.state&=~t}toggle(t){this.state^=t}check(t){return 0!=(this.state&t)}equals(t){return t==this.state}},explorerEvent:e}},138:(t,e,r)=>{const s=r(554),{SelectorParser:i}=r(314),{RuleParser:n}=r(923),a=r(478);class h{constructor(){this.selector,this.rules=[]}apply(t,e){this.selector.test(t,e)&&this.rules.forEach((r=>r.apply(t,e)))}}t.exports={JsCasProp:class{constructor(t){this._parser=new s.cssjs,this._parameters={classProperty:"class",tagListSeparator:" ",events:a.explorerEvent},this.rawCSS=[],this.stylings=[],Object.assign(this._parameters,t),this.selectorConfig=this._parameters}parse(t){this.rawCSS=this._parser.parseCSS(t);let e=new n,r=new i(this.selectorConfig);this.rawCSS.forEach(((t,s)=>{var i=new h,n=t.selector.split(" ").join("");i.selector=r.parseSelector(n,s),t.rules.forEach(((t,r)=>{var s=e.parseRule(t.directive,t.value.split(" ").join(""));s._valid&&i.rules.push(s)})),this.stylings.push(i)}))}style(t,e){this.stylings.forEach((r=>r.apply(t,e)))}},DefaultEvents:a}},477:t=>{t.exports={Parser:class{constructor(){this._curIdx=0,this._block=-1,this._literal=""}_curChar(){return this._literal.charAt(this._curIdx)}_nextChar(){return this._curIdx!=this._literal.length&&(this._curIdx++,this._consumeSpaces(),!0)}_consumeSpaces(){for(;" "==this._curChar();){if(this._curIdx>=this._literal.length-1)return;this._curIdx++}}_getStringUntil(t){for(var e="";!t.includes(this._curChar())&&(e+=this._curChar(),this._nextChar()););return e}_error(t){console.error("[31m%s[0m","Error while parsing: "+t)}_warning(t){console.error("[37m%s[0m","Warning : "+t)}}}},923:(t,e,r)=>{const{Parser:s}=r(477);var i=Object.freeze({string:1,number:2,color:3,enum:4});class n{constructor(t,e,r){this._attribute=t,this._valueType=e,this._value=r,this._valid=!0}apply(t,e){e[this._attribute]=this._value}}var a=Object.freeze({linear:1});class h{constructor(t,e,r,s,i,n,a){this._type=r,this._property=e,this._attribute=t,this._valueType=s,this._controlPoints=i,this._attributeValues=n,this._valid=!0}apply(t,e){this._type==a.linear&&(e[this._attribute]=this._lin(t[this._property]))}_lin(t){var e=this._findIndex(t);return-1==e?this._attributeValues[0]:e==this._controlPoints.length-1?this._attributeValues[this._attributeValues.length-1]:this._valueType==i.color?this._linearColorInterpolation(e,t):this._linearInterpolation(t,this._controlPoints[e],this._attributeValues[e],this._controlPoints[e+1],this._attributeValues[e+1])}_findIndex(t){for(var e=-1;e<this._controlPoints.length&&this._controlPoints[e+1]<t;)e++;return e}_linearColorInterpolation(t,e){for(var r=this._attributeValues[e],s=this._attributeValues[e+1],i=0,n=255,a=0;a<4;a++){var h=(r&n)>>>8*a,o=(s&n)>>>8*a;i|=this._linearInterpolation(t,this._controlPoints[e],h,this._controlPoints[e+1],o)<<8*a,n<<=8}return i}_linearInterpolation(t,e,r,s,i){var n=(i-r)/(s-e);return n*t+(-n*e+r)}_isInRange(t,e,r){return t<e?-1:t>r?1:0}}t.exports={RuleParser:class extends s{constructor(){super(),this._attribute="",this._ruleTerminals=["\n",";"],this._rgbaTerminals=[",",")"],this._colorInitials=["#","0","("],this._interpolationEnums={lin:a.linear,linear:a.linear}}parseRule(t,e){this._curIdx=0,this._attribute=t,this._literal=e;var r=void 0;if(null!=(r=this._parseColor()))return new n(this._attribute,i.color,r);this._curIdx=0;var s=this._getStringUntil("(");return null==(s=this._interpolationEnums[s])?new n(this._attribute,i.string,this._literal):(this._nextChar(),null==(r=this._parseInterpolation(s))?new n(this._attribute,i.string,this._literal):r)}_parseInterpolation(t){for(var e,r,s=!0,n=[],a=[];")"!=this._curChar();){n.push(parseInt(this._getStringUntil("="))),this._nextChar();var o=r;if(this._colorInitials.includes(this._curChar())?(a.push(this._parseColor()),r=i.color):(a.push(parseInt(this._getStringUntil([",",")"]))),r=i.number),null!=o&&o!=r&&(this._error("Type of values doesn't match."),s=!1),","==this._curChar()&&this._nextChar(),this._curIdx>=this._literal.length-1){this._error("Unexpected end of rule."),s=!1;break}}return this._nextChar(),0==this._getStringUntil("(").localeCompare(".using")?(this._nextChar(),e=this._getStringUntil(")")):(this._error("Couldn't find 'using' directive."),s=!1),")"!=this._curChar()&&(this._error("Unexpected end of rule, expected ')'."),s=!1),n.length!=a.length&&(this._error("Number of control points and values is different."),s=!1),null==r&&(this._error("Unknown Number or Color Type found."),s=!1),new h(this._attribute,e,t,r,n,a,s)}_parseColor(){if("#"==this._curChar())return this._nextChar(),parseInt(this._getStringUntil(this._ruleTerminals),16);if("0"==this._curChar()){if(this._nextChar(),"x"==this._curChar())return this._nextChar(),parseInt(this._getStringUntil(this._ruleTerminals),16)}else if("("==this._curChar())return this._getRGBA()}_getRGBA(){var t=parseInt(this._getStringUntil(this._rgbaTerminals));if(","!=this._curChar())return this.hexValue(t,0,0);this._nextChar();var e=parseInt(this._getStringUntil(this._rgbaTerminals));if(","!=this._curChar())return this.hexValue(t,e,0);this._nextChar();var r=parseInt(this._getStringUntil(this._rgbaTerminals));if(","!=this._curChar())return this._nextChar(),this.hexValue(t,e,r);this._nextChar();var s=parseInt(this._getStringUntil(this._rgbaTerminals));if(")"==this._curChar())return this._nextChar(),this.hexValue(t,e,r,s);this._error("Expected closing ')'.")}hexValue(t,e,r,s=255){return t<<24|e<<16|r>>8|s}hexString(t,e,r,s=255){return t=t.toString(16),e=e.toString(16),r=r.toString(16),s=s.toString(16),1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==r.length&&(r="0"+r),1==s.length&&(s="0"+s),"#"+t+e+r+s}}}},314:(t,e,r)=>{const{Parser:s}=r(477),{explorerEvent:i,EventState:n}=r(478);class a{constructor(){this.valid=!0}}class h extends a{constructor(t,e){super(),this._expressions=t,this._config=e}validateObject(t){return t.hasOwnProperty(this._config.classProperty)}test(t,e){return!!this.validateObject(t)&&!this._expressions.every((t=>null!=t.eventState&&e.eventState.state!=t.eventState.state))&&this._expressions.some((e=>e.type==t[this._config.classProperty]&&e.attrChecklist.every((e=>{if(void 0===e.comparator||void 0===e.value)return t.hasOwnProperty(e.id);if(!t.hasOwnProperty(e.id))return!1;switch(e.comparator){case"=":return t[e.id]==e.value;case"!=":return t[e.id]!=e.value;case"~=":return t[e.id].split(this._config.tagListSeparator).includes(e.value);case">":return t[e.id]>e.value;case"<":return t[e.id]<e.value}}))))}}class o extends a{constructor(){super(),this.type,this.eventState,this.attrChecklist=[],this.rightSide}}class l extends o{constructor(){super(),this.parameter,this.chainOp}}class u extends a{constructor(t,e,r){super(),this.id=t,this.comparator=e,this.value=r}}t.exports={SelectorParser:class extends s{constructor(t){super(),this._config=t}parseSelector(t,e){this._curIdx=0,this._literal=t,this._block=e;var r=[];do{var s=this._parseExpression();if(!s.valid)break;r.push(s)}while(","==this._curChar()&&this._nextChar());var i=new h(r,this._config);return 0==r.length&&(i.valid=!1,this._error("Block "+(this._block+1)+" has been skipped, because there was no valid selector.")),i}_parseExpression(){var t=this._parseLeftMost();if(!t.valid)return t;if(">"==this._curChar()||"<"==this._curChar()){var e=this._curChar();this._nextChar();var r=this._parseRightSide(t);r.chainOp=e,t.rightSide=r}return t}_parseLeftMost(){var t=new o;return this._parseType(t),"["==this._curChar()&&(this._nextChar(),this._parseAttributeBlock(t)),t.valid?(this._parseExtensions(t),t):t}_parseRightSide(t){var e=new l;if(this._parseType(e),!t.valid)return e.valid=!1,e;var r=["[","#",":",",","."];if(!r.includes(this._curChar())&&this._curIdx<this._literal.length?e.parameter=this._getStringUntil(r):e.parameter=1,"["==this._curChar()&&(this._nextChar(),this._parseAttributeBlock(e)),!t.valid)return e;if(this._parseExtensions(e),">"==this._curChar()||"<"==this._curChar()){var s=this._curChar();this._nextChar(),e.rightSide=this._parseRightSide(e),e.rightSide.chainOp=s}return e}_parseAttributeBlock(t){var e=["=","~","!","<",">","]",","],r=[];do{var s=this._getStringUntil(e);if(","==this._curChar())r.push(new u(s,void 0,void 0));else{if("]"==this._curChar()){r.push(new u(s,void 0,void 0));break}if("="==this._curChar()||"<"==this._curChar()||">"==this._curChar()){var i=this._curChar();if(this._nextChar(),r.push(new u(s,i,this._getStringUntil([",","]"]))),"]"==this._curChar())break}else{if("~"!=this._curChar()&&"!"!=this._curChar())break;if(i=this._curChar(),this._nextChar(),i+=this._curChar(),this._nextChar(),r.push(new u(s,i,this._getStringUntil([",","]"]))),"]"==this._curChar())break}}}while(this._nextChar()&&"]"!=this._curChar());t.attrChecklist=r,"]"!=this._curChar()&&(t.valid=!1,this._error("Block "+(this._block+1)+" has been skipped, because of missing bracket. Expected ']'.")),this._nextChar()}_parseExtensions(t){for(var e=["#",".",",",":",">","<"],r=!1;["#",".",":"].includes(this._curChar());)if("#"==this._curChar())this._nextChar(),r?(this._getStringUntil(e),this._warning("Multiple Ids are not supported, only the first one will be used.")):(t.attrChecklist.push(new u("id","=",this._getStringUntil(e))),r=!0);else if("."==this._curChar())this._nextChar(),t.attrChecklist.push(new u("tags","~=",this._getStringUntil(e)));else{this._nextChar(),null==t.eventState&&(t.eventState=new n);var s=this._getStringUntil(e);i.hasOwnProperty(s)?t.eventState.set(i[s]):this._warning("Ignoring unknown Event '"+s+"'.")}[">","<",","].includes(this._curChar())||this._curIdx!=this._literal.length-1||(t.valid=!1,this._error("Block "+(this._block+1)+" has been skipped. Expected '>', '<' or ','."))}_parseType(t){"l"==this._curChar()?t.type="l":"e"==this._curChar()?t.type="e":(t.valid=!1,this._error("Block "+(this._block+1)+" has been skipped, because of missing type. Expected 'e' or 'l'.")),this._nextChar()}}}}},e={},r=function r(s){var i=e[s];if(void 0!==i)return i.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,r),n.exports}(138),r;var t,e,r}));
//# sourceMappingURL=js-casprop-bundled.min.js.map