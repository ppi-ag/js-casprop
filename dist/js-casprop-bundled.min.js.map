{"version":3,"file":"js-casprop-bundled.min.js","mappings":"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","sources":["webpack://jsCasProp/webpack/universalModuleDefinition","webpack://jsCasProp/./node_modules/jotform-css.js/css.js","webpack://jsCasProp/./src/events.js","webpack://jsCasProp/./src/index.js","webpack://jsCasProp/./src/parser.js","webpack://jsCasProp/./src/rule-parser.js","webpack://jsCasProp/./src/selector-parser.js","webpack://jsCasProp/webpack/bootstrap","webpack://jsCasProp/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jsCasProp\"] = factory();\n\telse\n\t\troot[\"jsCasProp\"] = factory();\n})(self, () => {\nreturn ","/* jshint unused:false */\n/* global window, console */\n(function(global) {\n  'use strict';\n  var fi = function() {\n\n    this.cssImportStatements = [];\n    this.cssKeyframeStatements = [];\n\n    this.cssRegex = new RegExp('([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)}', 'gi');\n    this.cssMediaQueryRegex = '((@media [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})';\n    this.cssKeyframeRegex = '((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})';\n    this.combinedCSSRegex = '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})'; //to match css & media queries together\n    this.cssCommentsRegex = '(\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)';\n    this.cssImportStatementRegex = new RegExp('@import .*?;', 'gi');\n  };\n\n  /*\n    Strip outs css comments and returns cleaned css string\n\n    @param css, the original css string to be stipped out of comments\n\n    @return cleanedCSS contains no css comments\n  */\n  fi.prototype.stripComments = function(cssString) {\n    var regex = new RegExp(this.cssCommentsRegex, 'gi');\n\n    return cssString.replace(regex, '');\n  };\n\n  /*\n    Parses given css string, and returns css object\n    keys as selectors and values are css rules\n    eliminates all css comments before parsing\n\n    @param source css string to be parsed\n\n    @return object css\n  */\n  fi.prototype.parseCSS = function(source) {\n\n    if (source === undefined) {\n      return [];\n    }\n\n    var css = [];\n    //strip out comments\n    //source = this.stripComments(source);\n\n    //get import statements\n\n    while (true) {\n      var imports = this.cssImportStatementRegex.exec(source);\n      if (imports !== null) {\n        this.cssImportStatements.push(imports[0]);\n        css.push({\n          selector: '@imports',\n          type: 'imports',\n          styles: imports[0]\n        });\n      } else {\n        break;\n      }\n    }\n    source = source.replace(this.cssImportStatementRegex, '');\n    //get keyframe statements\n    var keyframesRegex = new RegExp(this.cssKeyframeRegex, 'gi');\n    var arr;\n    while (true) {\n      arr = keyframesRegex.exec(source);\n      if (arr === null) {\n        break;\n      }\n      css.push({\n        selector: '@keyframes',\n        type: 'keyframes',\n        styles: arr[0]\n      });\n    }\n    source = source.replace(keyframesRegex, '');\n\n    //unified regex\n    var unified = new RegExp(this.combinedCSSRegex, 'gi');\n\n    while (true) {\n      arr = unified.exec(source);\n      if (arr === null) {\n        break;\n      }\n      var selector = '';\n      if (arr[2] === undefined) {\n        selector = arr[5].split('\\r\\n').join('\\n').trim();\n      } else {\n        selector = arr[2].split('\\r\\n').join('\\n').trim();\n      }\n\n      /*\n        fetch comments and associate it with current selector\n      */\n      var commentsRegex = new RegExp(this.cssCommentsRegex, 'gi');\n      var comments = commentsRegex.exec(selector);\n      if (comments !== null) {\n        selector = selector.replace(commentsRegex, '').trim();\n      }\n\n      // Never have more than a single line break in a row\n      selector = selector.replace(/\\n+/, \"\\n\");\n\n      //determine the type\n      if (selector.indexOf('@media') !== -1) {\n        //we have a media query\n        var cssObject = {\n          selector: selector,\n          type: 'media',\n          subStyles: this.parseCSS(arr[3] + '\\n}') //recursively parse media query inner css\n        };\n        if (comments !== null) {\n          cssObject.comments = comments[0];\n        }\n        css.push(cssObject);\n      } else {\n        //we have standard css\n        var rules = this.parseRules(arr[6]);\n        var style = {\n          selector: selector,\n          rules: rules\n        };\n        if (selector === '@font-face') {\n          style.type = 'font-face';\n        }\n        if (comments !== null) {\n          style.comments = comments[0];\n        }\n        css.push(style);\n      }\n    }\n\n    return css;\n  };\n\n  /*\n    parses given string containing css directives\n    and returns an array of objects containing ruleName:ruleValue pairs\n\n    @param rules, css directive string example\n        \\n\\ncolor:white;\\n    font-size:18px;\\n\n  */\n  fi.prototype.parseRules = function(rules) {\n    //convert all windows style line endings to unix style line endings\n    rules = rules.split('\\r\\n').join('\\n');\n    var ret = [];\n\n    rules = rules.split(';');\n\n    //proccess rules line by line\n    for (var i = 0; i < rules.length; i++) {\n      var line = rules[i];\n\n      //determine if line is a valid css directive, ie color:white;\n      line = line.trim();\n      if (line.indexOf(':') !== -1) {\n        //line contains :\n        line = line.split(':');\n        var cssDirective = line[0].trim();\n        var cssValue = line.slice(1).join(':').trim();\n\n        //more checks\n        if (cssDirective.length < 1 || cssValue.length < 1) {\n          continue; //there is no css directive or value that is of length 1 or 0\n          // PLAIN WRONG WHAT ABOUT margin:0; ?\n        }\n\n        //push rule\n        ret.push({\n          directive: cssDirective,\n          value: cssValue\n        });\n      } else {\n        //if there is no ':', but what if it was mis splitted value which starts with base64\n        if (line.trim().substr(0, 7) === 'base64,') { //hack :)\n          ret[ret.length - 1].value += line.trim();\n        } else {\n          //add rule, even if it is defective\n          if (line.length > 0) {\n            ret.push({\n              directive: '',\n              value: line,\n              defective: true\n            });\n          }\n        }\n      }\n    }\n\n    return ret; //we are done!\n  };\n  /*\n    just returns the rule having given directive\n    if not found returns false;\n  */\n  fi.prototype.findCorrespondingRule = function(rules, directive, value) {\n    if (value === undefined) {\n      value = false;\n    }\n    var ret = false;\n    for (var i = 0; i < rules.length; i++) {\n      if (rules[i].directive === directive) {\n        ret = rules[i];\n        if (value === rules[i].value) {\n          break;\n        }\n      }\n    }\n    return ret;\n  };\n\n  /*\n      Finds styles that have given selector, compress them,\n      and returns them\n  */\n  fi.prototype.findBySelector = function(cssObjectArray, selector, contains) {\n    if (contains === undefined) {\n      contains = false;\n    }\n\n    var found = [];\n    for (var i = 0; i < cssObjectArray.length; i++) {\n      if (contains === false) {\n        if (cssObjectArray[i].selector === selector) {\n          found.push(cssObjectArray[i]);\n        }\n      } else {\n        if (cssObjectArray[i].selector.indexOf(selector) !== -1) {\n          found.push(cssObjectArray[i]);\n        }\n      }\n\n    }\n    if (selector === '@imports' || found.length < 2) {\n      return found;\n    } else {\n      var base = found[0];\n      for (i = 1; i < found.length; i++) {\n        this.intelligentCSSPush([base], found[i]);\n      }\n      return [base]; //we are done!! all properties merged into base!\n    }\n  };\n\n  /*\n    deletes cssObjects having given selector, and returns new array\n  */\n  fi.prototype.deleteBySelector = function(cssObjectArray, selector) {\n    var ret = [];\n    for (var i = 0; i < cssObjectArray.length; i++) {\n      if (cssObjectArray[i].selector !== selector) {\n        ret.push(cssObjectArray[i]);\n      }\n    }\n    return ret;\n  };\n\n  /*\n      Compresses given cssObjectArray and tries to minimize\n      selector redundence.\n  */\n  fi.prototype.compressCSS = function(cssObjectArray) {\n    var compressed = [];\n    var done = {};\n    for (var i = 0; i < cssObjectArray.length; i++) {\n      var obj = cssObjectArray[i];\n      if (done[obj.selector] === true) {\n        continue;\n      }\n\n      var found = this.findBySelector(cssObjectArray, obj.selector); //found compressed\n      if (found.length !== 0) {\n        compressed = compressed.concat(found);\n        done[obj.selector] = true;\n      }\n    }\n    return compressed;\n  };\n\n  /*\n    Received 2 css objects with following structure\n      {\n        rules : [{directive:\"\", value:\"\"}, {directive:\"\", value:\"\"}, ...]\n        selector : \"SOMESELECTOR\"\n      }\n\n    returns the changed(new,removed,updated) values on css1 parameter, on same structure\n\n    if two css objects are the same, then returns false\n\n      if a css directive exists in css1 and     css2, and its value is different, it is included in diff\n      if a css directive exists in css1 and not css2, it is then included in diff\n      if a css directive exists in css2 but not css1, then it is deleted in css1, it would be included in diff but will be marked as type='DELETED'\n\n      @object css1 css object\n      @object css2 css object\n\n      @return diff css object contains changed values in css1 in regards to css2 see test input output in /test/data/css.js\n  */\n  fi.prototype.cssDiff = function(css1, css2) {\n    if (css1.selector !== css2.selector) {\n      return false;\n    }\n\n    //if one of them is media query return false, because diff function can not operate on media queries\n    if ((css1.type === 'media' || css2.type === 'media')) {\n      return false;\n    }\n\n    var diff = {\n      selector: css1.selector,\n      rules: []\n    };\n    var rule1, rule2;\n    for (var i = 0; i < css1.rules.length; i++) {\n      rule1 = css1.rules[i];\n      //find rule2 which has the same directive as rule1\n      rule2 = this.findCorrespondingRule(css2.rules, rule1.directive, rule1.value);\n      if (rule2 === false) {\n        //rule1 is a new rule in css1\n        diff.rules.push(rule1);\n      } else {\n        //rule2 was found only push if its value is different too\n        if (rule1.value !== rule2.value) {\n          diff.rules.push(rule1);\n        }\n      }\n    }\n\n    //now for rules exists in css2 but not in css1, which means deleted rules\n    for (var ii = 0; ii < css2.rules.length; ii++) {\n      rule2 = css2.rules[ii];\n      //find rule2 which has the same directive as rule1\n      rule1 = this.findCorrespondingRule(css1.rules, rule2.directive);\n      if (rule1 === false) {\n        //rule1 is a new rule\n        rule2.type = 'DELETED'; //mark it as a deleted rule, so that other merge operations could be true\n        diff.rules.push(rule2);\n      }\n    }\n\n\n    if (diff.rules.length === 0) {\n      return false;\n    }\n    return diff;\n  };\n\n  /*\n      Merges 2 different css objects together\n      using intelligentCSSPush,\n\n      @param cssObjectArray, target css object array\n      @param newArray, source array that will be pushed into cssObjectArray parameter\n      @param reverse, [optional], if given true, first parameter will be traversed on reversed order\n              effectively giving priority to the styles in newArray\n  */\n  fi.prototype.intelligentMerge = function(cssObjectArray, newArray, reverse) {\n    if (reverse === undefined) {\n      reverse = false;\n    }\n\n\n    for (var i = 0; i < newArray.length; i++) {\n      this.intelligentCSSPush(cssObjectArray, newArray[i], reverse);\n    }\n    for (i = 0; i < cssObjectArray.length; i++) {\n      var cobj = cssObjectArray[i];\n      if (cobj.type === 'media' || (cobj.type === 'keyframes')) {\n        continue;\n      }\n      cobj.rules = this.compactRules(cobj.rules);\n    }\n  };\n\n  /*\n    inserts new css objects into a bigger css object\n    with same selectors grouped together\n\n    @param cssObjectArray, array of bigger css object to be pushed into\n    @param minimalObject, single css object\n    @param reverse [optional] default is false, if given, cssObjectArray will be reversly traversed\n            resulting more priority in minimalObject's styles\n  */\n  fi.prototype.intelligentCSSPush = function(cssObjectArray, minimalObject, reverse) {\n    var pushSelector = minimalObject.selector;\n    //find correct selector if not found just push minimalObject into cssObject\n    var cssObject = false;\n\n    if (reverse === undefined) {\n      reverse = false;\n    }\n\n    if (reverse === false) {\n      for (var i = 0; i < cssObjectArray.length; i++) {\n        if (cssObjectArray[i].selector === pushSelector) {\n          cssObject = cssObjectArray[i];\n          break;\n        }\n      }\n    } else {\n      for (var j = cssObjectArray.length - 1; j > -1; j--) {\n        if (cssObjectArray[j].selector === pushSelector) {\n          cssObject = cssObjectArray[j];\n          break;\n        }\n      }\n    }\n\n    if (cssObject === false) {\n      cssObjectArray.push(minimalObject); //just push, because cssSelector is new\n    } else {\n      if (minimalObject.type !== 'media') {\n        for (var ii = 0; ii < minimalObject.rules.length; ii++) {\n          var rule = minimalObject.rules[ii];\n          //find rule inside cssObject\n          var oldRule = this.findCorrespondingRule(cssObject.rules, rule.directive);\n          if (oldRule === false) {\n            cssObject.rules.push(rule);\n          } else if (rule.type === 'DELETED') {\n            oldRule.type = 'DELETED';\n          } else {\n            //rule found just update value\n\n            oldRule.value = rule.value;\n          }\n        }\n      } else {\n        cssObject.subStyles = cssObject.subStyles.concat(minimalObject.subStyles); //TODO, make this intelligent too\n      }\n\n    }\n  };\n\n  /*\n    filter outs rule objects whose type param equal to DELETED\n\n    @param rules, array of rules\n\n    @returns rules array, compacted by deleting all unnecessary rules\n  */\n  fi.prototype.compactRules = function(rules) {\n    var newRules = [];\n    for (var i = 0; i < rules.length; i++) {\n      if (rules[i].type !== 'DELETED') {\n        newRules.push(rules[i]);\n      }\n    }\n    return newRules;\n  };\n  /*\n    computes string for ace editor using this.css or given cssBase optional parameter\n\n    @param [optional] cssBase, if given computes cssString from cssObject array\n  */\n  fi.prototype.getCSSForEditor = function(cssBase, depth) {\n    if (depth === undefined) {\n      depth = 0;\n    }\n    var ret = '';\n    if (cssBase === undefined) {\n      cssBase = this.css;\n    }\n    //append imports\n    for (var i = 0; i < cssBase.length; i++) {\n      if (cssBase[i].type === 'imports') {\n        ret += cssBase[i].styles + '\\n\\n';\n      }\n    }\n    for (i = 0; i < cssBase.length; i++) {\n      var tmp = cssBase[i];\n      if (tmp.selector === undefined) { //temporarily omit media queries\n        continue;\n      }\n      var comments = \"\";\n      if (tmp.comments !== undefined) {\n        comments = tmp.comments + '\\n';\n      }\n\n      if (tmp.type === 'media') { //also put media queries to output\n        ret += comments + tmp.selector + '{\\n';\n        ret += this.getCSSForEditor(tmp.subStyles, depth + 1);\n        ret += '}\\n\\n';\n      } else if (tmp.type !== 'keyframes' && tmp.type !== 'imports') {\n        ret += this.getSpaces(depth) + comments + tmp.selector + ' {\\n';\n        ret += this.getCSSOfRules(tmp.rules, depth + 1);\n        ret += this.getSpaces(depth) + '}\\n\\n';\n      }\n    }\n\n    //append keyFrames\n    for (i = 0; i < cssBase.length; i++) {\n      if (cssBase[i].type === 'keyframes') {\n        ret += cssBase[i].styles + '\\n\\n';\n      }\n    }\n\n    return ret;\n  };\n\n  fi.prototype.getImports = function(cssObjectArray) {\n    var imps = [];\n    for (var i = 0; i < cssObjectArray.length; i++) {\n      if (cssObjectArray[i].type === 'imports') {\n        imps.push(cssObjectArray[i].styles);\n      }\n    }\n    return imps;\n  };\n  /*\n    given rules array, returns visually formatted css string\n    to be used inside editor\n  */\n  fi.prototype.getCSSOfRules = function(rules, depth) {\n    var ret = '';\n    for (var i = 0; i < rules.length; i++) {\n      if (rules[i] === undefined) {\n        continue;\n      }\n      if (rules[i].defective === undefined) {\n        ret += this.getSpaces(depth) + rules[i].directive + ': ' + rules[i].value + ';\\n';\n      } else {\n        ret += this.getSpaces(depth) + rules[i].value + ';\\n';\n      }\n\n    }\n    return ret || '\\n';\n  };\n\n  /*\n      A very simple helper function returns number of spaces appended in a single string,\n      the number depends input parameter, namely input*2\n  */\n  fi.prototype.getSpaces = function(num) {\n    var ret = '';\n    for (var i = 0; i < num * 4; i++) {\n      ret += ' ';\n    }\n    return ret;\n  };\n\n  /*\n    Given css string or objectArray, parses it and then for every selector,\n    prepends this.cssPreviewNamespace to prevent css collision issues\n\n    @returns css string in which this.cssPreviewNamespace prepended\n  */\n  fi.prototype.applyNamespacing = function(css, forcedNamespace) {\n    var cssObjectArray = css;\n    var namespaceClass = '.' + this.cssPreviewNamespace;\n    if(forcedNamespace !== undefined){\n      namespaceClass = forcedNamespace;\n    }\n\n    if (typeof css === 'string') {\n      cssObjectArray = this.parseCSS(css);\n    }\n\n    for (var i = 0; i < cssObjectArray.length; i++) {\n      var obj = cssObjectArray[i];\n\n      //bypass namespacing for @font-face @keyframes @import\n      if(obj.selector.indexOf('@font-face') > -1 || obj.selector.indexOf('keyframes') > -1 || obj.selector.indexOf('@import') > -1 || obj.selector.indexOf('.form-all') > -1 || obj.selector.indexOf('#stage') > -1){\n        continue;\n      }\n\n      if (obj.type !== 'media') {\n        var selector = obj.selector.split(',');\n        var newSelector = [];\n        for (var j = 0; j < selector.length; j++) {\n          if (selector[j].indexOf('.supernova') === -1) { //do not apply namespacing to selectors including supernova\n            newSelector.push(namespaceClass + ' ' + selector[j]);\n          } else {\n            newSelector.push(selector[j]);\n          }\n        }\n        obj.selector = newSelector.join(',');\n      } else {\n        obj.subStyles = this.applyNamespacing(obj.subStyles, forcedNamespace); //handle media queries as well\n      }\n    }\n\n    return cssObjectArray;\n  };\n\n  /*\n    given css string or object array, clears possible namespacing from\n    all of the selectors inside the css\n  */\n  fi.prototype.clearNamespacing = function(css, returnObj) {\n    if (returnObj === undefined) {\n      returnObj = false;\n    }\n    var cssObjectArray = css;\n    var namespaceClass = '.' + this.cssPreviewNamespace;\n    if (typeof css === 'string') {\n      cssObjectArray = this.parseCSS(css);\n    }\n\n    for (var i = 0; i < cssObjectArray.length; i++) {\n      var obj = cssObjectArray[i];\n\n      if (obj.type !== 'media') {\n        var selector = obj.selector.split(',');\n        var newSelector = [];\n        for (var j = 0; j < selector.length; j++) {\n          newSelector.push(selector[j].split(namespaceClass + ' ').join(''));\n        }\n        obj.selector = newSelector.join(',');\n      } else {\n        obj.subStyles = this.clearNamespacing(obj.subStyles, true); //handle media queries as well\n      }\n    }\n    if (returnObj === false) {\n      return this.getCSSForEditor(cssObjectArray);\n    } else {\n      return cssObjectArray;\n    }\n\n  };\n\n  /*\n    creates a new style tag (also destroys the previous one)\n    and injects given css string into that css tag\n  */\n  fi.prototype.createStyleElement = function(id, css, format) {\n    if (format === undefined) {\n      format = false;\n    }\n\n    if (this.testMode === false && format !== 'nonamespace') {\n      //apply namespacing classes\n      css = this.applyNamespacing(css);\n    }\n\n    if (typeof css !== 'string') {\n      css = this.getCSSForEditor(css);\n    }\n    //apply formatting for css\n    if (format === true) {\n      css = this.getCSSForEditor(this.parseCSS(css));\n    }\n\n    if (this.testMode !== false) {\n      return this.testMode('create style #' + id, css); //if test mode, just pass result to callback\n    }\n\n    var __el = document.getElementById(id);\n    if (__el) {\n      __el.parentNode.removeChild(__el);\n    }\n\n    var head = document.head || document.getElementsByTagName('head')[0],\n      style = document.createElement('style');\n\n    style.id = id;\n    style.type = 'text/css';\n\n    head.appendChild(style);\n\n    if (style.styleSheet && !style.sheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n  };\n\n  global.cssjs = fi;\n\n})(this);\n","\r\nconst explorerEvent = Object.freeze({\r\n    onmouseover: 1 << 31,\r\n    onclick: 1 << 30,\r\n    onselect: 1 << 29,\r\n    onfold: 1 << 28,\r\n    onin: 1 << 27, // only supposed to be used with onselect and maybe onfold\r\n    onout: 1 << 26 // -- see above\r\n});\r\n\r\n// Handles events for the expcss parser\r\nclass EventState {\r\n    constructor() {\r\n        this.state = 0;\r\n    }\r\n\r\n    set(e) {\r\n        this.state |= e;\r\n    }\r\n\r\n    remove(e) {\r\n        this.state &= ~e;\r\n    }\r\n\r\n    toggle(e) {\r\n        this.state ^= e;\r\n    }\r\n\r\n    check(e) {\r\n        if ((this.state & e) != 0) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    equals(other){\r\n        if(other == this.state){\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    EventState: EventState,\r\n    explorerEvent: explorerEvent\r\n};","const _cssjs = require(\"jotform-css.js\");\r\nconst {SelectorParser} = require(\"./selector-parser.js\");\r\nconst {RuleParser} = require(\"./rule-parser.js\");\r\nconst Events = require(\"./events.js\");\r\n\r\nclass JsCasProp {\r\n    // className describes the object attribute of the style base, which either contains 'l' for link or 'e' for entity. Defaults to 'class'.\r\n    constructor(config){\r\n        //initialize parser object\r\n        this._parser = new _cssjs.cssjs();\r\n\r\n        this._parameters = {\r\n            classProperty: 'class',\r\n            tagListSeparator: ' ',\r\n            events: Events.explorerEvent,\r\n        };\r\n\r\n        //Array of css units {selector = \"\", rules = [{directive = \"\", value  = \"\"} ...]}\r\n        this.rawCSS = [];\r\n\r\n        //parsed css blocks ready to be applied to objects\r\n        this.stylings = [];\r\n\r\n        Object.assign(this._parameters, config);\r\n\r\n        this.selectorConfig = this._parameters;\r\n    }\r\n\r\n    //file input for the parser as string\r\n    parse(cssString) {\r\n        this.rawCSS = this._parser.parseCSS(cssString);\r\n\r\n        let rp = new RuleParser();\r\n        let sp = new SelectorParser(this.selectorConfig);\r\n\r\n        this.rawCSS.forEach((element, i) => {\r\n            var style = new Styling();\r\n            var normalizedSelector = element.selector.split(' ').join('');\r\n\r\n            style.selector = sp.parseSelector(normalizedSelector, i);\r\n\r\n            element.rules.forEach((element, i) => {\r\n                var rule = rp.parseRule(element.directive, element.value.split(' ').join(''));\r\n\r\n                if(rule._valid){\r\n                    style.rules.push(rule);\r\n                }\r\n            });\r\n\r\n            this.stylings.push(style);\r\n        });\r\n    }\r\n\r\n    //modifies the given style based on the given object\r\n    style(obj, sty) {\r\n        this.stylings.forEach(style => style.apply(obj, sty));\r\n    }\r\n}\r\n\r\nclass Styling {\r\n    constructor() {\r\n        this.selector;\r\n        this.rules = [];\r\n    }\r\n\r\n    apply(obj, sty){\r\n        if(this.selector.test(obj, sty)){\r\n            this.rules.forEach(rule => rule.apply(obj, sty));\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = {\"JsCasProp\": JsCasProp,\r\n                  \"DefaultEvents\": Events}","class Parser {\r\n    constructor() {\r\n        this._curIdx = 0;\r\n        this._block = -1;\r\n        this._literal = \"\";\r\n    }\r\n\r\n    _curChar() {\r\n        return this._literal.charAt(this._curIdx);\r\n    }\r\n\r\n    _nextChar() {\r\n        var reachedEnd = this._curIdx == (this._literal.length);\r\n\r\n        if (reachedEnd) {\r\n            return false;\r\n        }\r\n\r\n        this._curIdx++;\r\n\r\n        this._consumeSpaces();\r\n\r\n        return true;\r\n    }\r\n\r\n    _consumeSpaces() {\r\n        while (this._curChar() == \" \") {\r\n            if (this._curIdx >= this._literal.length - 1) {\r\n                return;\r\n            }\r\n            this._curIdx++;\r\n        }\r\n    }\r\n\r\n    _getStringUntil(terminals) {\r\n        var result = \"\";\r\n\r\n        while (!terminals.includes(this._curChar())) {\r\n            result += this._curChar();\r\n\r\n            if (!this._nextChar()) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    _error(message) {\r\n        console.error('\\x1b[31m%s\\x1b[0m', \"Error while parsing: \" + message);\r\n    }\r\n\r\n    _warning(message) {\r\n        console.error('\\x1b[37m%s\\x1b[0m', \"Warning : \" + message);\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    Parser\r\n}","const { Parser } = require(\"./parser.js\");\r\n\r\nclass RuleParser extends Parser {\r\n    constructor() {\r\n        super();\r\n        this._attribute = \"\";\r\n        this._ruleTerminals = [\"\\n\", \";\"];\r\n        this._rgbaTerminals = [',', ')'];\r\n        this._colorInitials = ['#', '0', '('];\r\n        this._interpolationEnums = {\r\n            'lin': interpolationType.linear,\r\n            'linear': interpolationType.linear\r\n        };\r\n    }\r\n\r\n    parseRule(attribute, rule) {\r\n        this._curIdx = 0;\r\n        this._attribute = attribute;\r\n        this._literal = rule;\r\n        var result = undefined;\r\n\r\n        // try parsing interpolation, color or enum \r\n        result = this._parseColor();\r\n\r\n        if (result != undefined) {\r\n            return new SimpleRule(this._attribute, valueType.color, result);\r\n        }\r\n\r\n        // Reset parser and try parsing interpolation rule\r\n        this._curIdx = 0;\r\n\r\n        var type = this._getStringUntil('(');\r\n\r\n        type = this._interpolationEnums[type];\r\n\r\n        if (type == undefined) {\r\n            return new SimpleRule(this._attribute, valueType.string, this._literal);\r\n        }\r\n        this._nextChar();\r\n\r\n        result = this._parseInterpolation(type);\r\n\r\n        if (result == undefined) {\r\n            //might be of type number!\r\n            return new SimpleRule(this._attribute, valueType.string, this._literal);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    _parseInterpolation(type) {\r\n        var valid = true;\r\n        var property;\r\n        var vType;\r\n        var x = [];\r\n        var y = [];\r\n\r\n        while (this._curChar() != ')') {\r\n            x.push(parseInt(this._getStringUntil('=')));\r\n            this._nextChar();\r\n\r\n            var typeCheck = vType;\r\n\r\n            if (this._colorInitials.includes(this._curChar())) {\r\n                y.push(this._parseColor());\r\n                vType = valueType.color;\r\n            } else {\r\n                y.push(parseInt(this._getStringUntil([',', ')'])));\r\n                vType = valueType.number;\r\n            }\r\n\r\n            if (typeCheck != undefined && typeCheck != vType) {\r\n                this._error(\"Type of values doesn't match.\");\r\n                valid = false;\r\n            }\r\n\r\n            if (this._curChar() == ',') {\r\n                this._nextChar();\r\n            }\r\n\r\n            if (this._curIdx >= this._literal.length - 1) {\r\n                this._error(\"Unexpected end of rule.\");\r\n                valid = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        this._nextChar();\r\n\r\n        var keyWord = this._getStringUntil('(');\r\n\r\n        if (keyWord.localeCompare(\".using\") == 0) {\r\n            this._nextChar();\r\n            property = this._getStringUntil(')');\r\n        } else {\r\n            this._error(\"Couldn't find 'using' directive.\");\r\n            valid = false;\r\n        }\r\n\r\n        if (this._curChar() != ')') {\r\n            this._error(\"Unexpected end of rule, expected ')'.\");\r\n            valid = false;\r\n        }\r\n\r\n        if (x.length != y.length) {\r\n            this._error(\"Number of control points and values is different.\");\r\n            valid = false;\r\n        }\r\n\r\n        if (vType == undefined) {\r\n            this._error(\"Unknown Number or Color Type found.\");\r\n            valid = false;\r\n        }\r\n        \r\n        return new InterpolatedRule(this._attribute, property, type, vType, x, y, valid);\r\n    }\r\n\r\n    _parseColor() {\r\n        if (this._curChar() == '#') {\r\n            this._nextChar();\r\n            return parseInt(this._getStringUntil(this._ruleTerminals), 16);\r\n        } else if (this._curChar() == '0') {\r\n            this._nextChar();\r\n            if (this._curChar() == 'x') {\r\n                this._nextChar();\r\n                return parseInt(this._getStringUntil(this._ruleTerminals), 16);\r\n            }\r\n        } else if (this._curChar() == '(') {\r\n            return this._getRGBA();\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    _getRGBA() {\r\n        var r = parseInt(this._getStringUntil(this._rgbaTerminals));\r\n\r\n        if (this._curChar() != ',') {\r\n            return this.hexValue(r, 0, 0);\r\n        }\r\n        this._nextChar();\r\n\r\n        var g = parseInt(this._getStringUntil(this._rgbaTerminals));\r\n\r\n        if (this._curChar() != ',') {\r\n            return this.hexValue(r, g, 0);\r\n        }\r\n        this._nextChar();\r\n\r\n        var b = parseInt(this._getStringUntil(this._rgbaTerminals));\r\n\r\n        if (this._curChar() != ',') {\r\n            this._nextChar();\r\n            return this.hexValue(r, g, b);\r\n        }\r\n        this._nextChar();\r\n\r\n        var a = parseInt(this._getStringUntil(this._rgbaTerminals));\r\n\r\n        if (this._curChar() != ')') {\r\n            this._error(\"Expected closing ')'.\")\r\n            return undefined;\r\n        }\r\n        this._nextChar();\r\n\r\n        return this.hexValue(r, g, b, a);\r\n    }\r\n\r\n    hexValue(r, g, b, a = 255) {\r\n        return (r << 24) | (g << 16) | (b >> 8) | a;\r\n    }\r\n\r\n    hexString(r, g, b, a = 255) {\r\n        r = r.toString(16);\r\n        g = g.toString(16);\r\n        b = b.toString(16);\r\n        a = a.toString(16);\r\n\r\n        if (r.length == 1)\r\n            r = \"0\" + r;\r\n        if (g.length == 1)\r\n            g = \"0\" + g;\r\n        if (b.length == 1)\r\n            b = \"0\" + b;\r\n        if (a.length == 1)\r\n            a = \"0\" + a;\r\n\r\n        return \"#\" + r + g + b + a;\r\n    }\r\n}\r\n\r\nvar valueType = Object.freeze({ \"string\": 1, \"number\": 2, \"color\": 3, \"enum\": 4 });\r\n\r\nclass SimpleRule {\r\n    constructor(attribute, attributeType, value) {\r\n        this._attribute = attribute;\r\n        this._valueType = attributeType;\r\n        this._value = value;\r\n        this._valid = true;\r\n    }\r\n\r\n    apply(obj, sty) {\r\n        sty[this._attribute] = this._value;\r\n    }\r\n}\r\n\r\nvar interpolationType = Object.freeze({ \"linear\": 1 });\r\n\r\nclass InterpolatedRule {\r\n    constructor(attribute, property, interpolType, valueType, controlPoints, attributeValues, valid) {\r\n        this._type = interpolType;\r\n        this._property = property;\r\n        this._attribute = attribute;\r\n        this._valueType = valueType;\r\n        this._controlPoints = controlPoints;\r\n        this._attributeValues = attributeValues;\r\n        this._valid = true; //TODO: FIX after debugging\r\n    }\r\n\r\n    apply(obj, sty) {\r\n        if (this._type == interpolationType.linear) {\r\n            sty[this._attribute] = this._lin(obj[this._property]);\r\n        }\r\n    }\r\n\r\n    _lin(actualValue) {\r\n        // find range the value is inside of and interpolate inside it\r\n        // assumes ascending order \r\n        var index = this._findIndex(actualValue);\r\n\r\n        //Smaller than all control points\r\n        if(index == -1){\r\n            return this._attributeValues[0];\r\n        }\r\n\r\n        //Bigger than all control points\r\n        if(index == this._controlPoints.length-1){\r\n            return this._attributeValues[this._attributeValues.length-1];\r\n        }\r\n\r\n        if (this._valueType == valueType.color) {\r\n            // interpolate rgba values\r\n            return this._linearColorInterpolation(index, actualValue);\r\n        } else {\r\n            // normal interpolation of number\r\n\r\n            //inside range index & index + 1\r\n            return this._linearInterpolation(actualValue, this._controlPoints[index], this._attributeValues[index], this._controlPoints[index+1], this._attributeValues[index+1]);\r\n        }\r\n    }\r\n\r\n    _findIndex(x) {\r\n        var idx = -1;\r\n\r\n        while (idx < this._controlPoints.length && this._controlPoints[idx+1] < x) {\r\n            idx++;\r\n        }\r\n\r\n        return idx;\r\n    }\r\n\r\n    _linearColorInterpolation(actualValue, idx) {\r\n        var y0 = this._attributeValues[idx];\r\n        var y1 = this._attributeValues[idx+1];\r\n\r\n        var result = 0;\r\n        var mask = 0x000000FF; // alpha mask\r\n\r\n        //for each channel interpolate the value seperately\r\n        for(var i = 0; i < 4; i++){\r\n            var y0Channel = (y0 & mask) >>> i*8;\r\n            var y1Channel = (y1 & mask) >>> i*8;\r\n\r\n            result |= this._linearInterpolation(actualValue, this._controlPoints[idx], y0Channel, this._controlPoints[idx+1], y1Channel) << i*8\r\n\r\n            mask = mask << 8;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    _linearInterpolation(x, x0, y0, x1, y1){\r\n        var a = (y1 - y0) / (x1 - x0)\r\n        var b = -a * x0 + y0\r\n        return a * x + b\r\n    }\r\n\r\n    _isInRange(value, lower, upper) {\r\n        if (value < lower) {\r\n            return -1;\r\n        } else if (value > upper) {\r\n            return 1;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    RuleParser\r\n}","const {Parser} = require(\"./parser.js\");\r\nconst {explorerEvent, EventState} = require(\"./events.js\");\r\n\r\nclass SelectorParser extends Parser {\r\n    constructor(configuration) {\r\n        super();\r\n        this._config = configuration;\r\n    }\r\n\r\n    parseSelector(string, idx) {\r\n        this._curIdx = 0;\r\n        this._literal = string;\r\n        this._block = idx;\r\n\r\n        var list = [];\r\n\r\n        do {\r\n            var exp = this._parseExpression();\r\n\r\n            if (exp.valid) {\r\n                list.push(exp);\r\n            } else {\r\n                break;\r\n            }\r\n\r\n        } while (this._curChar() == ',' && this._nextChar())\r\n        var sel = new Selector(list, this._config);\r\n\r\n        if (list.length == 0) {\r\n            sel.valid = false;\r\n            this._error(\"Block \" + (this._block + 1) + \" has been skipped, because there was no valid selector.\");\r\n        }\r\n\r\n        return sel;\r\n    }\r\n\r\n    _parseExpression() {\r\n\r\n        var leftMost = this._parseLeftMost();\r\n\r\n        if (!leftMost.valid) {\r\n            return leftMost;\r\n        }\r\n\r\n        if (this._curChar() == \">\" || this._curChar() == \"<\") {\r\n            var chain = this._curChar();\r\n            this._nextChar();\r\n            var rightSide = this._parseRightSide(leftMost);\r\n            rightSide.chainOp = chain;\r\n            leftMost.rightSide = rightSide;\r\n        }\r\n\r\n        return leftMost;\r\n    }\r\n\r\n    _parseLeftMost() {\r\n        var leftMost = new SelectorExpression();\r\n\r\n        this._parseType(leftMost);\r\n\r\n        if (this._curChar() == \"[\") {\r\n            this._nextChar();\r\n            this._parseAttributeBlock(leftMost);\r\n        }\r\n\r\n        if (!leftMost.valid) {\r\n            return leftMost;\r\n        }\r\n\r\n        this._parseExtensions(leftMost);\r\n\r\n        return leftMost;\r\n    }\r\n\r\n    _parseRightSide(node) {\r\n        var rightside = new RightSide();\r\n\r\n        this._parseType(rightside);\r\n\r\n        if (!node.valid) {\r\n            rightside.valid = false;\r\n            return rightside;\r\n        }\r\n\r\n        var paramFollow = ['[', '#', ':', ',', '.'];\r\n\r\n        //check if parameter exists\r\n        if (!paramFollow.includes(this._curChar()) && this._curIdx < this._literal.length) {\r\n            rightside.parameter = this._getStringUntil(paramFollow);\r\n        } else {\r\n            rightside.parameter = 1;\r\n        }\r\n\r\n        if (this._curChar() == '[') {\r\n            this._nextChar();\r\n            this._parseAttributeBlock(rightside);\r\n        }\r\n\r\n        if (!node.valid) {\r\n            return rightside;\r\n        }\r\n\r\n        this._parseExtensions(rightside);\r\n\r\n        if (this._curChar() == '>' || this._curChar() == '<') {\r\n            var chain = this._curChar();\r\n            this._nextChar();\r\n            rightside.rightSide = this._parseRightSide(rightside);\r\n            rightside.rightSide.chainOp = chain;\r\n        }\r\n\r\n        return rightside;\r\n    }\r\n\r\n    _parseAttributeBlock(node) {\r\n        var followId = ['=', '~', '!', '<', '>', ']', ','];\r\n\r\n        var list = [];\r\n\r\n        do {\r\n            var id = this._getStringUntil(followId);\r\n\r\n            if (this._curChar() == ',') {\r\n                list.push(new AttributeCheck(id, undefined, undefined))\r\n            } else if (this._curChar() == ']') {\r\n                list.push(new AttributeCheck(id, undefined, undefined))\r\n                break;\r\n            } else if (this._curChar() == '=' || this._curChar() == '<' || this._curChar() == '>') {\r\n                var op = this._curChar();\r\n                this._nextChar();\r\n\r\n                list.push(new AttributeCheck(id, op, this._getStringUntil([',', ']'])));\r\n\r\n                if (this._curChar() == ']') {\r\n                    break;\r\n                }\r\n            } else if (this._curChar() == '~' || this._curChar() == '!') {\r\n                var op = this._curChar();\r\n                this._nextChar();\r\n                op += this._curChar();\r\n                this._nextChar();\r\n\r\n                list.push(new AttributeCheck(id, op, this._getStringUntil([',', ']'])));\r\n\r\n                if (this._curChar() == ']') {\r\n                    break;\r\n                }\r\n            } else {\r\n                break;\r\n            }\r\n\r\n        } while (this._nextChar() && this._curChar() != ']')\r\n\r\n        node.attrChecklist = list;\r\n\r\n        if (this._curChar() != ']') {\r\n            node.valid = false;\r\n            this._error(\"Block \" + (this._block + 1) + \" has been skipped, because of missing bracket. Expected ']'.\");\r\n        }\r\n\r\n        this._nextChar();\r\n    }\r\n\r\n    _parseExtensions(node) {\r\n\r\n        var follow = ['#', '.', ',', ':', '>', '<'];\r\n        var hasId = false;\r\n\r\n        while (['#', '.', ':'].includes(this._curChar())) {\r\n\r\n            if (this._curChar() == '#') {\r\n                this._nextChar();\r\n                if (!hasId) {\r\n                    node.attrChecklist.push(new AttributeCheck('id', '=', this._getStringUntil(follow)));\r\n                    hasId = true;\r\n                } else {\r\n                    this._getStringUntil(follow);\r\n                    this._warning(\"Multiple Ids are not supported, only the first one will be used.\");\r\n                }\r\n            }\r\n            else if (this._curChar() == '.') {\r\n                this._nextChar();\r\n                node.attrChecklist.push(new AttributeCheck('tags', '~=', this._getStringUntil(follow)));\r\n            } else {\r\n                this._nextChar();\r\n\r\n                if(node.eventState == undefined){\r\n                    node[\"eventState\"] = new EventState();\r\n                }\r\n\r\n                var event = this._getStringUntil(follow);\r\n                if(!explorerEvent.hasOwnProperty(event)){\r\n                    this._warning(\"Ignoring unknown Event '\"+event+\"'.\");\r\n                } else {\r\n                    node.eventState.set(explorerEvent[event]);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!['>', '<', ','].includes(this._curChar()) && this._curIdx == this._literal.length - 1) {\r\n            node.valid = false;\r\n            this._error(\"Block \" + (this._block + 1) + \" has been skipped. Expected '>', '<' or ','.\");\r\n        }\r\n    }\r\n\r\n    _parseType(node) {\r\n        //TODO: create configurable type list\r\n        if (this._curChar() == \"l\") {\r\n            node.type = \"l\";\r\n        } else if (this._curChar() == \"e\") {\r\n            node.type = \"e\";\r\n        } else {\r\n            node.valid = false;\r\n            this._error(\"Block \" + (this._block + 1) + \" has been skipped, because of missing type. Expected 'e' or 'l'.\");\r\n        }\r\n\r\n        this._nextChar();\r\n    }\r\n}\r\n\r\nclass Node {\r\n    constructor() {\r\n        this.valid = true;\r\n    }\r\n}\r\n// TODO: allow better customization of class location\r\nclass Selector extends Node {\r\n    constructor(expressions, config) {\r\n        super();\r\n        this._expressions = expressions;\r\n        this._config = config;\r\n    }\r\n\r\n    validateObject(obj){\r\n       return obj.hasOwnProperty(this._config.classProperty);\r\n    }\r\n\r\n    test(obj, sty){\r\n\r\n        if(!this.validateObject(obj)){\r\n            return false;\r\n        }\r\n\r\n        if(this._expressions.every(exp => {return exp.eventState != undefined && sty.eventState.state != exp.eventState.state})){\r\n            return false;\r\n        }\r\n\r\n        return this._expressions.some(exp => {\r\n            //differentiate between links and entities\r\n            if(exp.type != obj[this._config.classProperty]){\r\n                return false\r\n            }\r\n\r\n            return exp.attrChecklist.every(attrCheck => {\r\n\r\n                if(attrCheck.comparator === undefined || attrCheck.value === undefined){\r\n                    return obj.hasOwnProperty(attrCheck.id);\r\n                } else {\r\n                    if(!obj.hasOwnProperty(attrCheck.id)){\r\n                        return false;\r\n                    }\r\n\r\n                    switch(attrCheck.comparator){\r\n                        case '=' : \r\n                            return (obj[attrCheck.id] == attrCheck.value);\r\n                        case '!=':\r\n                            return (obj[attrCheck.id] != attrCheck.value);\r\n                        case '~=':\r\n                            return (obj[attrCheck.id].split(this._config.tagListSeparator).includes(attrCheck.value));\r\n                        case '>' :\r\n                            return (obj[attrCheck.id] > attrCheck.value);\r\n                        case '<' :\r\n                            return (obj[attrCheck.id] < attrCheck.value);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        //TODO: Graph Traversal checks, complex expressions etc.\r\n    }\r\n\r\n\r\n}\r\n\r\nclass SelectorExpression extends Node {\r\n    constructor() {\r\n        super();\r\n        this.type;\r\n        this.eventState;\r\n        this.attrChecklist = [];\r\n        this.rightSide;\r\n    }\r\n}\r\n\r\nclass RightSide extends SelectorExpression {\r\n    constructor() {\r\n        super();\r\n        this.parameter;\r\n        this.chainOp;\r\n    }\r\n}\r\n\r\nclass AttributeCheck extends Node {\r\n    constructor(id, comparator, value) {\r\n        super();\r\n        this.id = id;\r\n        this.comparator = comparator;\r\n        this.value = value;\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    SelectorParser\r\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(138);\n"],"names":["root","factory","exports","module","define","amd","self","global","fi","this","cssImportStatements","cssKeyframeStatements","cssRegex","RegExp","cssMediaQueryRegex","cssKeyframeRegex","combinedCSSRegex","cssCommentsRegex","cssImportStatementRegex","prototype","stripComments","cssString","regex","replace","parseCSS","source","undefined","css","imports","exec","push","selector","type","styles","arr","keyframesRegex","unified","split","join","trim","commentsRegex","comments","indexOf","cssObject","subStyles","style","rules","parseRules","ret","i","length","line","cssDirective","cssValue","slice","directive","value","substr","defective","findCorrespondingRule","findBySelector","cssObjectArray","contains","found","base","intelligentCSSPush","deleteBySelector","compressCSS","compressed","done","obj","concat","cssDiff","css1","css2","rule1","rule2","diff","ii","intelligentMerge","newArray","reverse","cobj","compactRules","minimalObject","pushSelector","j","rule","oldRule","newRules","getCSSForEditor","cssBase","depth","tmp","getSpaces","getCSSOfRules","getImports","imps","num","applyNamespacing","forcedNamespace","namespaceClass","cssPreviewNamespace","newSelector","clearNamespacing","returnObj","createStyleElement","id","format","testMode","__el","document","getElementById","parentNode","removeChild","head","getElementsByTagName","createElement","appendChild","styleSheet","sheet","cssText","createTextNode","cssjs","explorerEvent","Object","freeze","onmouseover","onclick","onselect","onfold","onin","onout","EventState","constructor","state","set","e","remove","toggle","check","equals","other","_cssjs","SelectorParser","RuleParser","Events","Styling","apply","sty","test","forEach","config","_parser","_parameters","classProperty","tagListSeparator","events","rawCSS","stylings","assign","selectorConfig","parse","rp","sp","element","normalizedSelector","parseSelector","parseRule","_valid","Parser","_curIdx","_block","_literal","_curChar","charAt","_nextChar","_consumeSpaces","_getStringUntil","terminals","result","includes","_error","message","console","error","_warning","valueType","SimpleRule","attribute","attributeType","_attribute","_valueType","_value","interpolationType","InterpolatedRule","property","interpolType","controlPoints","attributeValues","valid","_type","_property","_controlPoints","_attributeValues","linear","_lin","actualValue","index","_findIndex","color","_linearColorInterpolation","_linearInterpolation","x","idx","y0","y1","mask","y0Channel","y1Channel","x0","x1","a","_isInRange","lower","upper","super","_ruleTerminals","_rgbaTerminals","_colorInitials","_interpolationEnums","_parseColor","string","_parseInterpolation","vType","y","parseInt","typeCheck","number","localeCompare","_getRGBA","r","hexValue","g","b","hexString","toString","Node","Selector","expressions","_expressions","_config","validateObject","hasOwnProperty","every","exp","eventState","some","attrChecklist","attrCheck","comparator","SelectorExpression","rightSide","RightSide","parameter","chainOp","AttributeCheck","configuration","list","_parseExpression","sel","leftMost","_parseLeftMost","chain","_parseRightSide","_parseType","_parseAttributeBlock","_parseExtensions","node","rightside","paramFollow","followId","op","follow","hasId","event","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call"],"sourceRoot":""}